(self["webpackChunkliubingao_ui"]=self["webpackChunkliubingao_ui"]||[]).push([[9549],{91128:function(n,e,r){"use strict";r.r(e);var t=r(67294),a=r(96089),l=r(65659),i=t.memo((n=>{n.demos;return t.createElement(t.Fragment,null,t.createElement("div",{className:"markdown"},t.createElement("h1",{id:"\u591a\u79cd\u6570\u7ec4\u53bb\u91cd\u6027\u80fd\u5bf9\u6bd4"},t.createElement(a.AnchorLink,{to:"#\u591a\u79cd\u6570\u7ec4\u53bb\u91cd\u6027\u80fd\u5bf9\u6bd4","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u591a\u79cd\u6570\u7ec4\u53bb\u91cd\u6027\u80fd\u5bf9\u6bd4"),t.createElement("h2",{id:"\u6d4b\u8bd5\u6a21\u677f"},t.createElement(a.AnchorLink,{to:"#\u6d4b\u8bd5\u6a21\u677f","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u6d4b\u8bd5\u6a21\u677f"),t.createElement(l.Z,{code:"// \u521b\u5efa\u4e00\u4e2a 1 ~ 10w \u7684\u6570\u7ec4\uff0cArray.from\u4e3aES6\u8bed\u6cd5\nlet arr1 = Array.from(new Array(1000000), (x, index) => { \n  return index\n})\n\nlet arr2 = Array.from(new Array(500000), (x, index) => {\n  return index + index\n})\n\nlet start = new Date().getTime()\nconsole.log('\u5f00\u59cb\u6570\u7ec4\u53bb\u91cd')\n\n// \u6570\u7ec4\u53bb\u91cd\nfunction distinct(a, b) {\n  let arr = a.concat(b);\n  // \u53bb\u91cd\u65b9\u6cd5\n}\n\n\n\nconsole.log('\u53bb\u91cd\u540e\u7684\u957f\u5ea6', distinct(arr1, arr2).length)\nlet end = new Date().getTime()\nconsole.log('\u8017\u65f6', end - start + 'ms')",lang:"js"}),t.createElement("h2",{id:"\u6d4b\u8bd5\u4ee3\u7801"},t.createElement(a.AnchorLink,{to:"#\u6d4b\u8bd5\u4ee3\u7801","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u6d4b\u8bd5\u4ee3\u7801"),t.createElement(l.Z,{code:"// \u521b\u5efa\u4e00\u4e2a 1 ~ 10w \u7684\u6570\u7ec4\uff0cArray.from\u4e3aES6\u8bed\u6cd5\nlet arr1 = Array.from(new Array(1000000), (x, index) => { \n  return index\n})\n\nlet arr2 = Array.from(new Array(500000), (x, index) => {\n  return index + index\n})\n\nlet start = new Date().getTime()\nconsole.log('\u5f00\u59cb\u6570\u7ec4\u53bb\u91cd')\n\n// \u6570\u7ec4\u53bb\u91cd\nfunction distinct(a, b) {\n  let arr = a.concat(b);\n  \n  // \u65b9\u6cd51\uff0c\u8017\u65f6\u7ea611675ms\uff0c\u7ea611s\n  // return arr.filter((item, index) => {\n  //   return arr.indexOf(item) === index\n  // })\n\n  // \u65b9\u6cd52\uff0c\u8017\u65f6\u7ea622851ms\uff0c\u7ea622s\uff0c\u6027\u80fd\u6700\u5dee\n  // for (let i = 0, len = arr.length; i < len; i++) {\n  //   for (let j = i + 1; j < len; j++) {\n  //     if (arr[i] == arr[j]) {\n  //       arr.splice(j, 1);\n  //       // splice \u4f1a\u6539\u53d8\u6570\u7ec4\u957f\u5ea6\uff0c\u6240\u4ee5\u8981\u5c06\u6570\u7ec4\u957f\u5ea6 len \u548c\u4e0b\u6807 j \u51cf\u4e00\n  //       len--;\n  //       j--;\n  //     }\n  //   }\n  // }\n  // return arr\n\n  //\u65b9\u6cd53\uff0c\u8017\u65f6\u7ea612789ms\uff0c\u7ea612s\uff0c\u548c\u65b9\u6cd51\u76f8\u5f53\n  // let result = []\n  // for (let i of arr) {\n  //   !result.includes(i) && result.push(i)\n  // }\n  // return result\n\n  //\u65b9\u6cd54\uff0c\u8017\u65f6\u7ea623ms\uff0cES5\u6807\u51c6\u4e2d\u6027\u80fd\u6700\u9ad8\n  // arr = arr.sort()\n  // let result = [arr[0]]\n  // for (let i = 1, len = arr.length; i < len; i++) {\n  //   arr[i] !== arr[i - 1] && result.push(arr[i])\n  // }\n  // return result\n\n  // \u65b9\u6cd55\uff0cES6\u7684Set\u6570\u636e\u7ed3\u6784\uff0c\u8017\u65f6\u7ea620ms\uff0c\u6027\u80fd\u9ad8\uff0c\u4ee3\u7801\u7b80\u6d01\n  // return Array.from(new Set([...a, ...b]))\n\n  // \u65b9\u6cd56\uff0c\u8017\u65f6\u7ea616ms\uff0c\u6240\u6709\u65b9\u6cd5\u4e2d \u6027\u80fd\u6700\u9ad8\uff01 (\u5343\u4e07\u7ea7\u6570\u636e\u91cf\u4e0b\u6548\u7387\u6bd4\u65b9\u6cd55\u9ad84\u500d\uff0cfor...of \u4e3aES6\u8bed\u6cd5)\n  let result = []\n  let obj = {}\n  for (let i of arr) {\n    if (!obj[i]) {\n      result.push(i)\n      obj[i] = 1\n    }\n  }\n  return result\n\n}\n\n\n\nconsole.log('\u53bb\u91cd\u540e\u7684\u957f\u5ea6', distinct(arr1, arr2).length)\nlet end = new Date().getTime()\nconsole.log('\u8017\u65f6', end - start + 'ms')",lang:"js"}),t.createElement("h2",{id:"\u7ed3\u8bba"},t.createElement(a.AnchorLink,{to:"#\u7ed3\u8bba","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u7ed3\u8bba"),t.createElement("p",null,"ES5\u6807\u51c6\u4e2d\u6027\u80fd\u6700\u9ad8\u7684\u6570\u7ec4\u53bb\u91cd\u65b9\u6cd5\u4e3a:"),t.createElement(l.Z,{code:"// \u8017\u65f6\u7ea623ms\narr = arr.sort()\nlet result = [arr[0]]\nfor (let i = 1, len = arr.length; i < len; i++) {\n    arr[i] !== arr[i - 1] && result.push(arr[i])\n}\nreturn result",lang:"js"}),t.createElement("p",null,"ES6\u6807\u51c6\u4e2d\u6027\u80fd\u6700\u9ad8\u7684\u6570\u7ec4\u53bb\u91cd\u65b9\u6cd5\u4e3a:"),t.createElement(l.Z,{code:"// \u8017\u65f6\u7ea616ms (\u5343\u4e07\u7ea7\u6570\u636e\u91cf\u4e0b\u6548\u7387\u6bd4\u4f7f\u7528Set\u6570\u636e\u7ed3\u6784\u65b9\u6cd5\u9ad84\u500d\uff0cfor...of \u4e3aES6\u8bed\u6cd5)\nlet result = []\nlet obj = {}\nfor (let i of arr) {\n    if (!obj[i]) {\n        result.push(i)\n        obj[i] = 1\n    }\n}\nreturn result",lang:"js"}),t.createElement("p",null,"\u4ee3\u7801\u65e2\u7b80\u6d01\u6027\u80fd\u53c8\u76f8\u5bf9\u9ad8\u7684\u53bb\u91cd\u65b9\u6cd5\u4e3a\uff1a"),t.createElement(l.Z,{code:"// \u8017\u65f6\u7ea620ms\uff0c\u6027\u80fd\u9ad8\uff0c\u4ee3\u7801\u7b80\u6d01\nreturn Array.from(new Set([...a, ...b]))",lang:"js"})))}));e["default"]=n=>{var e=t.useContext(a.context),r=e.demos;return t.useEffect((()=>{var e;null!==n&&void 0!==n&&null!==(e=n.location)&&void 0!==e&&e.hash&&a.AnchorLink.scrollToAnchor(decodeURIComponent(n.location.hash.slice(1)))}),[]),t.createElement(i,{demos:r})}}}]);